<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>vue-弹出消息 | 飞向月球的猫</title><meta name="keywords" content="vue"><meta name="author" content="飞向月球的猫"><meta name="copyright" content="飞向月球的猫"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#18171d"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="vue-弹出消息"><meta name="application-name" content="vue-弹出消息"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#18171d"><meta property="og:type" content="article"><meta property="og:title" content="vue-弹出消息"><meta property="og:url" content="http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/index.html"><meta property="og:site_name" content="飞向月球的猫"><meta property="og:description" content="vue-弹出消息"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2025/12/01/692cfce944838.jpg"><meta property="article:author" content="飞向月球的猫"><meta property="article:tag" content="深度学习 算法 全栈开发 移动端开发 js python java go c++ c"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2025/12/01/692cfce944838.jpg"><meta name="description" content="vue-弹出消息"><link rel="shortcut icon" href="/img/icon_man.png"><link rel="canonical" href="http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机"]},
  algolia: {"appId":"Z7A3XW4R2I","apiKey":"12db1ad54372045549ef465881c17e743","indexName":"my-hexo-blog","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":800,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 飞向月球的猫","link":"链接: ","source":"来源: 飞向月球的猫","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '飞向月球的猫',
  title: 'vue-弹出消息',
  postAI: '',
  pageFillDescription: '一、使用CSS Module, 1. 使用CSS Module, 1）举例, 2）使用CSS Module, 3）得到组件渲染的Dom, 4）扩展Vue实例, 5）ref, 2. 知识总结, 1）模板中的特殊属性, 2）组件通信方式, 3）实例成员, 4）示例解析, 3. 内容案例, 1）传统JS弹出消息实现方案, 2）例题点击弹出消息, 二、设置样式并弹出消息, 1. 消息组件样式设置, 2. 消息显示位置控制, 3. 动画效果实现, 4. 完整消息流程, 5. 注意事项, 三、点击弹出消息, 1. 消息弹窗基础实现, 2. 工具函数模块化, 3. 消息弹窗参数优化, 4. 全局注入优化, 5. 实现要点总结, 四、知识小结一使用使用举例新建文件文件创建在目录下新建文件用于存放特定样式文件结构项目采用模块化样式管理包含等样式文件编写类样式样式定义颜色设置使用定义红色文字定位方式通过导入中的混合实现固定定位居中层级控制设置确保元素在最上层显示导入依赖使用引入混合样式纯操作创建元素创建使用创建元素元素添加通过将元素添加到页面中操作时机在实例创建前执行纯操作演示非环境下的处理运行项目并查看效果项目启动使用命令启动开发服务器效果验证在浏览器中可看到创建的元素已成功添加到页面样式冲突由于设置新建被其他固定定位元素遮挡设置文本与样式文本设置通过添加示例文本样式应用尝试给添加类样式但直接使用会导致样式冲突导入样式并使用模块化导入尝试通过导入样式问题发现导入后对象为空因为默认未开启解决方案需要在工程中配置支持才能正确获取样式类名临时方案演示时直接使用赋值但指出实际项目中应避免这种写法使用文件命名规则样式文件必须命名为格式其中为自定义前缀为样式文件后缀名如实现原理通过将类名转换为唯一哈希值如来避免类名冲突导入方式使用语法导入样式对象实际应用示例样式定义在中定义类包含颜色定位等样式属性操作效果验证样式输出控制台打印对象显示转换后的类名视觉验证页面元素正确应用了居中定位和红色文字样式组件获取方法函数实现使用场景需要直接操作组件渲染的元素时调用该工具函数得到组件渲染的获取某个组件渲染的根元素函数函数作用传入组件对象和属性返回该组件渲染后的真实根元素实现原理通过创建临时实例使用函数渲染传入的组件和调用挂载生成真实返回实例的属性根元素代码示例组件对象特点单文件组件会被编译为包含函数的配置对象保留自定义的和等选项添加了等编译标记使用示例输出关键知识点属性实例挂载后生成的根元素挂载必要性必须调用才会生成真实临时实例创建的实例仅用于生成不参与应用运行注意事项该技巧在常规开发中较少使用适用于需要直接操作组件的特殊场景生成的元素尚未插入文档流扩展实例向实例注入成员原型链扩展原理通过修改构造函数的原型对象可以为所有实例和组件实例添加共享方法这是基于原型继承机制实现的实现方式使用语法添加实例方法例如应用范围注入的成员不仅对根实例有效对所有组件实例同样有效因为组件实例的原型链最终指向验证方法可以通过查看实例结构或直接在组件方法中调用进行验证使用区分实例成员命名规范建议为注入的成员添加前缀如前缀如前缀如避免与组件选项等中的成员名冲突冲突原理当组件选项中的成员名与原型方法同名时组件实例会优先使用自身的成员导致原型方法被遮蔽实际应用修改注入代码为在组件中通过调用调试验证在组件的方法中调用控制台正确输出验证功能正常的使用基本功能用于获取组件实例或元素的引用可通过访问元素引用在模板中使用标记元素如通过获取该节点组件实例引用在子组件上使用如通过获取子组件实例访问方式在方法中可通过查看所有引用集合的定义与用途定义是提供的特殊属性用于在组件内获取元素或子组件实例的引用主要用途获取组件渲染的元素如获取子组件实例如实现原理通过对象存储所有标记的元素组件获取元素与组件实例元素获取在模板中使用标记元素通过获取原生对象组件实例获取在子组件标签使用标记通过获取子组件实例引用查看方法通过操作子组件数据数据访问可通过直接访问子组件可通过修改子组件数据方法调用使用调用子组件方法示例代码的使用注意事项设计理念冲突直接操作违背数据驱动原则父组件直接修改子组件数据破坏组件独立性使用建议优先使用进行组件通信仅在没有替代方案时使用避免常规开发中滥用功能特殊场景必须直接操作时如聚焦输入框需要调用子组件特定方法时集成第三方非库时知识总结模板中的特殊属性属性作用为元素或组件添加引用标识存储位置引用会被自动添加到当前组件的对象中与属性的区别用于循环渲染时提高效率用于获取元素组件引用组件通信方式父子通信父子通过传递数据子父通过事件触发通信特点直接获取子组件实例的暴力方式能力可以访问子组件数据修改数据调用方法警告应谨慎使用会破坏组件封装性实例成员作用获取组件渲染后的根元素适用对象组件实例和实例作用收集当前组件内所有通过注册的引用引用类型原生元素如示例中的元素子组件实例如示例中的组件访问方式通过引用名访问示例解析引用操作获取所有引用访问子组件数据修改子组件数据调用子组件方法引用结构内容案例传统弹出消息实现方案组件化实现的弊端导入复杂度每次使用需要先导入组件如然后在中注册该组件模板冗余需要在模板中额外添加组件标签并配合控制显示状态使用繁琐相比传统的简单调用如插件直接调用组件化反而增加了使用复杂度理想实现方案设计函数式调用设计为成功了形式符合传统开发直觉参数设计内容参数接收要显示的消息文本如成功了类型参数区分消息类型等位置参数可指定显示在特定容器或页面中央实现细节说明定位机制通过传入的容器参数决定显示位置不传参则默认显示在页面中央实现原理采用纯操作方式不依赖组件系统优势对比相比组件方案减少模板代码量调用更符合传统前端开发习惯跨域请求补充知识响应头限制默认只能访问基础响应头等白名单机制通过设置可访问的额外头信息凭证请求限制带身份凭证的请求不允许设置为例题点击弹出消息创建方法位置选择在目录下新建文件夹存放工具方法避免与等目录混淆方法创建创建文件作为消息提示工具基本结构使用默认导出方式方法参数说明参数消息内容类型为参数消息类型限定为普通错误成功警告四种字符串值参数类型容器消息将显示在该容器中央不传则默认显示在页面中央参数消失时间默认表示不自动消失实际未实现测试方法导入方式在中通过导入测试技巧将方法挂载到对象方便浏览器控制台测试调用示例成功了容器创建消息元素元素创建使用创建消息容器内容结构包含图标和文本两部分图标应复用现有组件而非直接写样式处理需要导入样式文件操作最终通过添加到页面方法实现细节默认值处理默认为默认为参数合并建议将参数合并为配置对象形式更易维护组件复用强调应复用现有组件而非直接操作自动消失通过实现消息自动消失功能将组件渲染得到元素渲染图标组件到元素原生限制在纯环境中无法直接渲染组件需要通过特殊方法获取组件对应的元素实现思路将图标组件渲染成字符串后插入到消息元素中通过获取完整结构参数说明消息文本内容消息类型消息显示时长默认消息容器可选使用实例渲染组件并获取核心方法实现原理创建临时实例渲染目标组件通过挂载到内存中返回组件根元素注意事项需要传入组件正确的参数返回的是真实的对象可直接操作将方法单独写成文件模块化处理将方法单独封装为使用导出函数优势提高代码复用性便于后期维护避免重复代码消息组件样式处理容器定位处理定位逻辑检查容器是否为若为则自动设置为确保消息框能正确居中显示实现代码应用样式隔离使用避免类名冲突类名通过方式引用样式结构样式拼接消息元素样式细节布局处理使用布局实现水平排列设置合适的和添加圆角和阴影效果图标样式单独设置图标大小添加右侧间距垂直居中对齐类型样式映射类型对应信息图标错误图标成功图标警告图标样式扩展每种类型有对应的背景色使用的符号简化样式书写保持样式命名一致性二设置样式并弹出消息消息组件样式设置背景颜色选择使用语义化颜色类名包括信息成功警告错误类名生成规则实际编译后的类名不是原始的等而是经过模块化处理的唯一类名需要通过对象读取动态类名拼接使用模板字符串拼接类名格式为其中是传入的消息类型参数消息显示位置控制定位方式默认使用定位显示在页面正中容器定位当指定容器时使用定位显示在容器正中样式覆盖需要保留原有的居中样式再叠加垂直位移动画效果实现初始状态完全透明下移像素显示动画通过修改样式触发过渡变为去掉垂直位移必须强制浏览器重排如读取才能确保动画生效消失动画设置为上移像素通过事件监听动画结束移除元素使用的选项确保只触发一次完整消息流程创建消息并设置初始样式强制浏览器渲染初始状态修改样式触发显示动画设置时长定时器触发消失动画动画结束后移除元素注意事项样式覆盖属性会覆盖需要同时设置居中和位移动画时机操作和样式修改是异步的必须强制重排才能获得动画效果事件处理事件需要设置避免多次触发参数配置垂直位移量和过渡时间可根据实际效果调整三点击弹出消息消息弹窗基础实现容器样式设置为设置背景色为宽度边框上下边距高度消息触发方式通过点击按钮触发函数在指定容器区域内弹出消息默认参数设置消息默认显示秒默认类型为默认在中显示工具函数模块化统一导出技巧在目录创建集中导出所有工具函数导入简化通过统一导出文件使用时只需导入目录即可获取所有工具函数消息弹窗参数优化参数对象化改造将多个参数合并为对象包含消息内容默认空字符串消息类型默认显示时长默认容器元素默认消失后的回调函数样式问题解决当容器宽度不足时通过设置防止文字换行挤压全局注入优化原型注入在中将注入原型组件调用简化组件内可直接通过调用无需单独导入回调函数应用消息消失后执行回调常用于页面跳转等后续操作实现要点总结基础技术组合该功能实现主要依赖原生操作和与本身关系不大样式定位技巧使用可能导致宽度挤压需配合处理工程化思维通过模块化导出和全局注入提高代码复用性和使用便捷性参数设计原则将多个参数合并为对象提高可扩展性和代码可读性四知识小结知识点核心内容关键实现步骤技术难点使用避免类名冲突的解决方案文件名需包含关键字通过导入样式对象使用引用样式文件命名规范样式作用域理解组件获取通过函数获取组件渲染的真实元素创建实例调用函数渲染组件通过获取根元素虚拟与真实转换实例扩展向原型注入全局方法通过添加方法名建议加前缀避免冲突原型链污染风险引用系统获取组件实例或元素的引用在模板中使用属性通过访问引用对象违反数据驱动原则消息弹窗实现纯实现的跨组件消息系统动态创建元素应用样式实现进场退场动画自动销毁机制浏览器渲染时机控制定位计算逻辑过渡动画同步',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-12-26 16:20:26',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },

        get: key => {
          const itemStr = localStorage.getItem(key)

          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()

          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/icon_man.png"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">飞向月球的猫</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/wx.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="/img/wx.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/zfb.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/img/zfb.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">音乐</div><span class="author-content-item-title">灵魂的碰撞💥</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">30</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">22</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">24</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/vue/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>vue</span></a></span></div></div><h1 class="post-title" itemprop="name headline">vue-弹出消息</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-12-15T00:20:58.000Z" title="发表于 2025-12-15 08:20:58">2025-12-15</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-12-26T08:20:26.000Z" title="更新于 2025-12-26 16:20:26">2025-12-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="vue-弹出消息"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为中国"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>中国</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://bu.dusays.com/2025/12/01/692cfce944838.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/"><header><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a><a href="/tags/vue/" tabindex="-1" itemprop="url">vue</a><h1 id="CrawlerTitle" itemprop="name headline">vue-弹出消息</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">飞向月球的猫</span><time itemprop="dateCreated datePublished" datetime="2025-12-15T00:20:58.000Z" title="发表于 2025-12-15 08:20:58">2025-12-15</time><time itemprop="dateCreated datePublished" datetime="2025-12-26T08:20:26.000Z" title="更新于 2025-12-26 16:20:26">2025-12-26</time></header><h4 id="一、使用CSS-Module"><a href="#一、使用CSS-Module" class="headerlink" title="一、使用CSS Module"></a>一、使用CSS Module</h4><h5 id="1-使用CSS-Module"><a href="#1-使用CSS-Module" class="headerlink" title="1. 使用CSS Module"></a>1. 使用CSS Module</h5><h6 id="1）举例"><a href="#1）举例" class="headerlink" title="1）举例"></a>1）举例</h6><ul>
<li><p>新建文件message.less</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758304847.png"></p>
<ul>
<li><strong>文件创建</strong>：在styles目录下新建message.less文件，用于存放特定样式</li>
<li><strong>文件结构</strong>：项目采用模块化样式管理，包含global.less、mixin.less、var.less等样式文件</li>
</ul>
</li>
<li><p>编写类样式message</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758514062.png"></p>
<ul>
<li><strong>样式定义</strong>：<ul>
<li><strong>颜色设置</strong>：使用<br>color:redcolor: red<strong>co</strong>l<strong>or</strong>:<strong>re</strong>d<br>定义红色文字</li>
<li><strong>定位方式</strong>：通过@import导入mixin.less中的.self-center混合，实现fixed固定定位居中</li>
<li><strong>层级控制</strong>：设置<br>z−index:999z-index: 999<strong>z</strong>−<strong>in</strong>d<strong>e</strong>x**:**999<br>确保元素在最上层显示</li>
</ul>
</li>
<li><strong>导入依赖</strong>：使用@import “.&#x2F;mixin.less”引入混合样式</li>
</ul>
</li>
<li><p>纯DOM操作创建div</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758521532.png"></p>
<ul>
<li><strong>元素创建</strong>：使用<br>document.createElement(“div”)document.createElement(“div”)<strong>d</strong>oc<strong>u</strong>m<strong>e</strong>n<strong>t</strong>.<strong>cre</strong>a<strong>t</strong>e<strong>El</strong>e<strong>m</strong>e<strong>n</strong>t**(<strong>“<strong>d</strong>i</strong>v**”<strong>)</strong><br>创建DOM元素</li>
<li><strong>元素添加</strong>：通过<br>document.body.appendChild(div)document.body.appendChild(div)<strong>d</strong>oc<strong>u</strong>m<strong>e</strong>n<strong>t</strong>.<strong>b</strong>o<strong>d</strong>y**.<strong>a</strong>pp<strong>e</strong>n<strong>d</strong>C<strong>hi</strong>l<strong>d</strong>(<strong>d</strong>i<strong>v</strong>)**<br>将元素添加到页面body中</li>
<li><strong>操作时机</strong>：在Vue实例创建前执行纯DOM操作，演示非Vue环境下的DOM处理</li>
</ul>
</li>
<li><p>运行项目并查看效果</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758528990.png"></p>
<ul>
<li><strong>项目启动</strong>：使用<br>npmrunservenpm run serve<strong>n</strong>p<strong>m</strong>r<strong>u</strong>n<strong>ser</strong>v<strong>e</strong><br>命令启动开发服务器</li>
<li><strong>效果验证</strong>：在浏览器中可看到创建的div元素已成功添加到页面</li>
<li><strong>样式冲突</strong>：由于z-index设置，新建div被其他固定定位元素遮挡</li>
</ul>
</li>
<li><p>设置div文本与样式</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758534901.png"></p>
<ul>
<li><strong>文本设置</strong>：通过<br>div.innerText&#x3D;”asdfasdf”div.innerText &#x3D; “asdfasdf”<strong>d</strong>i<strong>v</strong>.<strong>inn</strong>er<strong>T</strong>e<strong>x</strong>t**&#x3D;<strong>“<strong>a</strong>s</strong>df<strong>a</strong>s<strong>df</strong>“**<br>添加示例文本</li>
<li><strong>样式应用</strong>：尝试给div添加message类样式，但直接使用className会导致样式冲突</li>
</ul>
</li>
<li><p>导入message样式并使用</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758543221.png"></p>
<ul>
<li><strong>模块化导入</strong>：尝试通过<br>importstylesfrom”.&#x2F;styles&#x2F;message.less”import styles from “.&#x2F;styles&#x2F;message.less”<strong>im</strong>p<strong>or</strong>t<strong>s</strong>t<strong>y</strong>l<strong>es</strong>f<strong>ro</strong>m**”.&#x2F;<strong>s</strong>t<strong>y</strong>l<strong>es</strong>&#x2F;<strong>m</strong>ess<strong>a</strong>g<strong>e</strong>.<strong>l</strong>ess**”<br>导入样式</li>
<li><strong>问题发现</strong>：导入后styles对象为空，因为默认未开启CSS Modules</li>
<li><strong>解决方案</strong>：需要在Vue CLI工程中配置CSS Modules支持才能正确获取样式类名</li>
<li><strong>临时方案</strong>：演示时直接使用className赋值，但指出实际项目中应避免这种写法</li>
</ul>
</li>
</ul>
<h6 id="2）使用CSS-Module"><a href="#2）使用CSS-Module" class="headerlink" title="2）使用CSS Module"></a>2）使用CSS Module</h6><p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758550371.png"></p>
<ul>
<li><strong>文件命名规则</strong>：样式文件必须命名为xxx.module.ooo格式，其中xxx为自定义前缀，ooo为样式文件后缀名（如css、less）</li>
<li><strong>实现原理</strong>：通过将类名转换为唯一哈希值（如message-module_message_3xtoF）来避免类名冲突</li>
<li><strong>导入方式</strong>：使用import styles from “.&#x2F;styles&#x2F;message.module.less”语法导入样式对象</li>
<li>实际应用示例<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758558553.png"><ul>
<li><strong>样式定义</strong>：在message.module.less中定义.message类，包含颜色、定位等样式属性</li>
<li><strong>DOM操作</strong>：</li>
</ul>
</li>
<li>效果验证<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758566577.png"><ul>
<li><strong>样式输出</strong>：控制台打印styles对象显示转换后的类名message-module_message_3xtoF</li>
<li><strong>视觉验证</strong>：页面元素正确应用了居中定位（self-center(fixed)）和红色文字样式</li>
</ul>
</li>
<li>组件DOM获取方法<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758575179.png"><ul>
<li><strong>函数实现</strong>：</li>
<li><strong>使用场景</strong>：需要直接操作组件渲染的DOM元素时调用该工具函数</li>
</ul>
</li>
</ul>
<h6 id="3）得到组件渲染的Dom"><a href="#3）得到组件渲染的Dom" class="headerlink" title="3）得到组件渲染的Dom"></a>3）得到组件渲染的Dom</h6><ul>
<li><p>获取某个组件渲染的Dom根元素函数</p>
<ul>
<li><strong>函数作用</strong>：传入组件对象和props属性，返回该组件渲染后的真实DOM根元素</li>
<li><strong>实现原理</strong>：<ul>
<li>通过new Vue()创建临时实例</li>
<li>使用render函数渲染传入的组件和props</li>
<li>调用$mount()挂载生成真实DOM</li>
<li>返回实例的$el属性（根DOM元素）</li>
</ul>
</li>
<li><strong>代码示例</strong>：</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getComponentRootDom(comp, props) &#123;</span><br><span class="line">  const vm = new Vue(&#123;</span><br><span class="line">    render: h =&gt; h(comp, &#123; props &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  vm.$mount();</span><br><span class="line">  return vm.$el;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765758582656.png"></p>
<ul>
<li><strong>组件对象特点</strong>：<ul>
<li>单文件组件会被编译为包含render函数的配置对象</li>
<li>保留自定义的props和computed等选项</li>
<li>添加了_compiled等编译标记</li>
</ul>
</li>
<li><strong>使用示例</strong>：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Icon from &quot;./components/Icon&quot;;</span><br><span class="line">const dom = getComponentRootDom(Icon, &#123; type: &quot;home&quot; &#125;);</span><br><span class="line">console.log(dom); // 输出: &lt;i class=&quot;iconfont icon-container iconzhuye&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure>

<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846185061.png"></p>
<ul>
<li><strong>关键知识点</strong>：<ul>
<li><strong>$el</strong>属性：Vue实例挂载后生成的根DOM元素</li>
<li><strong>挂载必要性</strong>：必须调用$mount()才会生成真实DOM</li>
<li><strong>临时实例</strong>：创建的Vue实例仅用于生成DOM，不参与应用运行</li>
</ul>
</li>
<li><strong>注意事项</strong>：<ul>
<li>该技巧在常规开发中较少使用</li>
<li>适用于需要直接操作组件DOM的特殊场景</li>
<li>生成的DOM元素尚未插入文档流</li>
</ul>
</li>
</ul>
<h6 id="4）扩展Vue实例"><a href="#4）扩展Vue实例" class="headerlink" title="4）扩展Vue实例"></a>4）扩展Vue实例</h6><ul>
<li><p>向Vue实例注入成员</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846915238.png"></p>
<ul>
<li><strong>原型链扩展原理</strong>：通过修改Vue构造函数的原型对象（Vue.prototype），可以为所有Vue实例和组件实例添加共享方法。这是基于JavaScript原型继承机制实现的。</li>
<li><strong>实现方式</strong>：使用Vue.prototype.$methodName &#x3D; function() {…}语法添加实例方法，例如Vue.prototype.sayHello &#x3D; function() { console.log(“Hello!!”) }。</li>
<li><strong>应用范围</strong>：注入的成员不仅对根Vue实例(vm)有效，对所有组件实例(this)同样有效，因为组件实例的原型链最终指向Vue.prototype。</li>
<li><strong>验证方法</strong>：可以通过console.log(vm)查看实例结构，或直接在组件方法中调用this.sayHello()进行验证。</li>
</ul>
</li>
<li><p>使用$区分实例成员</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846921668.png"></p>
<ul>
<li><strong>命名规范</strong>：建议为注入的成员添加<br>前缀（如‘前缀（如 <code>**前缀（如**‘ sayHello</code>），避免与组件选项（data、methods等）中的成员名冲突。</li>
<li><strong>冲突原理</strong>：当组件选项中的成员名与原型方法同名时，组件实例会优先使用自身的成员，导致原型方法被遮蔽。</li>
<li><strong>实际应用</strong>：修改注入代码为Vue.prototype.$sayHello &#x3D; function() {…}，在组件中通过this.$sayHello()调用。</li>
<li><strong>调试验证</strong>：在Home组件的handleClick方法中调用this.$sayHello()，控制台正确输出”Hello!!”验证功能正常。</li>
</ul>
</li>
<li><p>ref的使用</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846927864.png"></p>
<ul>
<li><strong>基本功能</strong>：ref用于获取组件实例或DOM元素的引用，可通过this.$refs访问。</li>
<li><strong>DOM元素引用</strong>：在模板中使用ref&#x3D;”para”标记元素，如 <code>&lt;p ref=&quot;para&quot;&gt;</code>some paragraph <code>&lt;/p&gt;</code>，通过this.$refs.para获取该DOM节点。</li>
<li><strong>组件实例引用</strong>：在子组件上使用ref&#x3D;”comp”，如 <code>&lt;ChildComp ref=&quot;comp&quot; /&gt;</code>，通过this.$refs.comp获取子组件实例。</li>
<li><strong>访问方式</strong>：在方法中可通过handleClick() { console.log(this.$refs) }查看所有ref引用集合。</li>
</ul>
</li>
</ul>
<h6 id="5）ref"><a href="#5）ref" class="headerlink" title="5）ref"></a>5）ref</h6><ul>
<li><p>ref的定义与用途</p>
<ul>
<li><strong>定义</strong>：ref是Vue提供的特殊属性，用于在组件内获取DOM元素或子组件实例的引用</li>
<li><strong>主要用途</strong>：<ul>
<li>获取组件渲染的DOM元素（如 <code>&lt;p ref=&quot;para&quot;&gt;</code>）</li>
<li>获取子组件实例（如 <code>&lt;ChildComp ref=&quot;comp&quot;/&gt;</code>）</li>
</ul>
</li>
<li><strong>实现原理</strong>：通过this.$refs对象存储所有标记ref的元素&#x2F;组件</li>
</ul>
</li>
<li><p>获取DOM元素与组件实例</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846935223.png"></p>
<ul>
<li><strong>DOM元素获取</strong>：<ul>
<li>在模板中使用ref&#x3D;”para”标记元素</li>
<li>通过this.$refs.para获取原生DOM对象</li>
</ul>
</li>
<li><strong>组件实例获取</strong>：<ul>
<li>在子组件标签使用ref&#x3D;”comp”标记</li>
<li>通过this.$refs.comp获取子组件Vue实例</li>
</ul>
</li>
<li><strong>引用查看方法</strong>：</li>
</ul>
</li>
<li><p>通过ref操作子组件数据</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846942121.png"></p>
<ul>
<li><strong>数据访问</strong>：<ul>
<li>可通过this.$refs.comp.a直接访问子组件data</li>
<li>可通过this.$refs.comp.b修改子组件数据</li>
</ul>
</li>
<li><strong>方法调用</strong>：<ul>
<li>使用this.$refs.comp.m1()调用子组件方法</li>
</ul>
</li>
<li><strong>示例代码</strong>：</li>
</ul>
</li>
<li><p>ref的使用注意事项</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846947820.png"></p>
<ul>
<li><strong>设计理念冲突</strong>：<ul>
<li>直接操作DOM违背Vue数据驱动原则</li>
<li>父组件直接修改子组件数据破坏组件独立性</li>
</ul>
</li>
<li><strong>使用建议</strong>：<ul>
<li>优先使用props&#x2F;events进行组件通信</li>
<li>仅在没有替代方案时使用ref</li>
<li>避免常规开发中滥用ref功能</li>
</ul>
</li>
<li><strong>特殊场景</strong>：<ul>
<li>必须直接操作DOM时（如聚焦输入框）</li>
<li>需要调用子组件特定方法时</li>
<li>集成第三方非Vue库时</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2-知识总结"><a href="#2-知识总结" class="headerlink" title="2. 知识总结"></a>2. 知识总结</h5><h6 id="1）模板中的特殊属性"><a href="#1）模板中的特殊属性" class="headerlink" title="1）模板中的特殊属性"></a>1）模板中的特殊属性</h6><p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846956421.png"></p>
<ul>
<li><strong>ref属性</strong>：<ul>
<li>作用：为元素或组件添加引用标识</li>
<li>存储位置：引用会被自动添加到当前组件的$refs对象中</li>
<li>与key属性的区别：key用于循环渲染时提高效率，ref用于获取元素&#x2F;组件引用</li>
</ul>
</li>
</ul>
<h6 id="2）组件通信方式"><a href="#2）组件通信方式" class="headerlink" title="2）组件通信方式"></a>2）组件通信方式</h6><p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846965104.png"></p>
<ul>
<li><strong>父子通信</strong>：<ul>
<li>父→子：通过props传递数据</li>
<li>子→父：通过事件触发（$emit）</li>
</ul>
</li>
<li><strong>refs通信</strong>：<ul>
<li>特点：直接获取子组件实例的”暴力”方式</li>
<li>能力：可以访问子组件数据、修改数据、调用方法</li>
<li>警告：应谨慎使用，会破坏组件封装性</li>
</ul>
</li>
</ul>
<h6 id="3）实例成员"><a href="#3）实例成员" class="headerlink" title="3）实例成员"></a>3）实例成员</h6><ul>
<li><strong>$el</strong>：<ul>
<li>作用：获取组件渲染后的根DOM元素</li>
<li>适用对象：组件实例和Vue实例</li>
</ul>
</li>
<li><strong>$refs</strong>：<ul>
<li>作用：收集当前组件内所有通过ref注册的引用</li>
<li>引用类型：<ul>
<li>原生DOM元素（如示例中的p元素）</li>
<li>子组件实例（如示例中的ChildComp组件）</li>
</ul>
</li>
<li>访问方式：通过this.$refs.引用名访问</li>
</ul>
</li>
</ul>
<h6 id="4）示例解析"><a href="#4）示例解析" class="headerlink" title="4）示例解析"></a>4）示例解析</h6><ul>
<li><strong>引用操作</strong>：<ul>
<li>获取所有引用：console.log(this.$refs)</li>
<li>访问子组件数据：this.$refs.comp.a</li>
<li>修改子组件数据：this.$refs.comp.a &#x3D; 3</li>
<li>调用子组件方法：this.$refs.comp.m1()</li>
</ul>
</li>
<li><strong>引用结构</strong>：</li>
</ul>
<h5 id="3-内容案例"><a href="#3-内容案例" class="headerlink" title="3. 内容案例"></a>3. 内容案例</h5><h6 id="1）传统JS弹出消息实现方案"><a href="#1）传统JS弹出消息实现方案" class="headerlink" title="1）传统JS弹出消息实现方案"></a>1）传统JS弹出消息实现方案</h6><ul>
<li>组件化实现的弊端<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846971682.png"><ul>
<li><strong>导入复杂度</strong>：每次使用需要先导入组件（如import message），然后在components中注册该组件</li>
<li><strong>模板冗余</strong>：需要在模板中额外添加组件标签，并配合v-if控制显示状态</li>
<li><strong>使用繁琐</strong>：相比传统JS的简单调用（如插件直接调用），Vue组件化反而增加了使用复杂度</li>
</ul>
</li>
<li>理想实现方案设计<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846979086.png"><ul>
<li><strong>函数式调用</strong>：设计为showMessage(“成功了！”, “success”)形式，符合传统JS开发直觉</li>
<li><strong>参数设计</strong>：<ul>
<li><strong>内容参数</strong>：接收要显示的消息文本（如”成功了！”）</li>
<li><strong>类型参数</strong>：区分消息类型（success&#x2F;warning&#x2F;error等）</li>
<li><strong>位置参数</strong>：可指定显示在特定容器或页面中央</li>
</ul>
</li>
</ul>
</li>
<li>实现细节说明<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846987682.png"><ul>
<li><strong>定位机制</strong>：通过传入的容器参数决定显示位置，不传参则默认显示在页面中央</li>
<li><strong>实现原理</strong>：采用纯DOM操作方式，不依赖Vue组件系统</li>
<li><strong>优势对比</strong>：相比组件方案减少模板代码量，调用更符合传统前端开发习惯</li>
</ul>
</li>
<li>跨域请求补充知识<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846996853.png"><ul>
<li><strong>响应头限制</strong>：JS默认只能访问基础响应头（Cache-Control、Content-Type等）</li>
<li><strong>白名单机制</strong>：通过Access-Control-Expose-Headers设置可访问的额外头信息</li>
<li><strong>凭证请求限制</strong>：带身份凭证的请求不允许设置Access-Control-Allow-Origin为<br>∗***∗**</li>
</ul>
</li>
</ul>
<h6 id="2）例题-点击弹出消息"><a href="#2）例题-点击弹出消息" class="headerlink" title="2）例题:点击弹出消息"></a>2）例题:点击弹出消息</h6><ul>
<li><p>创建showMessage方法</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847004777.png"></p>
<ul>
<li><strong>位置选择</strong>：在src目录下新建utils文件夹存放工具方法，避免与components、router、styles、views等目录混淆</li>
<li><strong>方法创建</strong>：创建showMessage.js文件作为消息提示工具</li>
<li><strong>基本结构</strong>：使用默认导出方式export default function(content, type, container)</li>
</ul>
</li>
<li><p>方法参数说明</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847012500.png"></p>
<ul>
<li><strong>content参数</strong>：消息内容，类型为String</li>
<li><strong>type参数</strong>：消息类型，限定为”info”(普通)、”error”(错误)、”success”(成功)、”warn”(警告)四种字符串值</li>
<li><strong>container参数</strong>：HTMLElement类型容器，消息将显示在该容器中央；不传则默认显示在页面中央</li>
<li><strong>duration参数</strong>：消失时间(ms)，默认2000ms，0表示不自动消失（实际未实现）</li>
</ul>
</li>
<li><p>测试showMessage方法</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847020856.png"></p>
<ul>
<li><strong>导入方式</strong>：在main.js中通过import showMessage from “.&#x2F;utils&#x2F;showMessage”导入</li>
<li><strong>测试技巧</strong>：将方法挂载到window对象方便浏览器控制台测试</li>
<li><strong>调用示例</strong>：showMessage(“成功了！”, “success”, 容器)</li>
</ul>
</li>
<li><p>创建消息元素</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847027766.png"></p>
<ul>
<li><strong>元素创建</strong>：使用document.createElement(“div”)创建消息容器</li>
<li><strong>内容结构</strong>：包含图标和文本两部分，图标应复用现有Icon组件而非直接写class</li>
<li><strong>样式处理</strong>：需要导入message.module.less样式文件</li>
<li><strong>DOM操作</strong>：最终通过document.body.appendChild(div)添加到页面</li>
</ul>
</li>
<li><p>方法实现细节</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847036518.png"></p>
<ul>
<li><strong>默认值处理</strong>：type默认为”info”，duration默认为2000ms</li>
<li><strong>参数合并</strong>：建议将参数合并为配置对象形式更易维护</li>
<li><strong>组件复用</strong>：强调应复用现有Icon组件而非直接操作class</li>
<li><strong>自动消失</strong>：通过setTimeout实现消息自动消失功能</li>
</ul>
</li>
<li><p>将组件渲染得到Dom元素</p>
<ul>
<li><p>渲染图标组件到Dom元素</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847046195.png"></p>
<ul>
<li><strong>原生JS限制</strong>: 在纯JS环境中无法直接渲染Vue组件，需要通过特殊方法获取组件对应的DOM元素</li>
<li><strong>实现思路</strong>: 将图标组件渲染成HTML字符串后插入到消息元素中，通过outerHTML获取完整DOM结构</li>
<li><strong>参数说明</strong>:<ul>
<li>content: 消息文本内容</li>
<li>type: 消息类型(info&#x2F;error&#x2F;success&#x2F;warn)</li>
<li>duration: 消息显示时长(默认2000ms)</li>
<li>container: 消息容器(可选)</li>
</ul>
</li>
</ul>
</li>
<li><p>使用Vue实例渲染组件并获取Dom</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765847053333.png"></p>
<ul>
<li><strong>核心方法</strong>:</li>
<li><strong>实现原理</strong>:<ul>
<li>创建临时Vue实例渲染目标组件</li>
<li>通过$mount()挂载到内存中</li>
<li>返回组件根元素vm.$el</li>
</ul>
</li>
<li><strong>注意事项</strong>:<ul>
<li>需要传入组件正确的props参数</li>
<li>返回的是真实的DOM对象，可直接操作</li>
</ul>
</li>
</ul>
</li>
<li><p>将方法单独写成文件</p>
<p><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846025741.png"></p>
<ul>
<li><strong>模块化处理</strong>:<ul>
<li>将getComponentRootDom方法单独封装为getComponentRootDom.js</li>
<li>使用export default导出函数</li>
</ul>
</li>
<li><strong>优势</strong>:<ul>
<li>提高代码复用性</li>
<li>便于后期维护</li>
<li>避免重复代码</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>消息组件样式处理</p>
<ul>
<li>容器定位处理<ul>
<li><strong>定位逻辑</strong>:<ul>
<li>检查容器position是否为static</li>
<li>若为static则自动设置为relative</li>
<li>确保消息框能正确居中显示</li>
</ul>
</li>
<li><strong>实现代码</strong>:</li>
</ul>
</li>
<li>CSS Module应用<br><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/1765846016852.png"><ul>
<li><strong>样式隔离</strong>:<ul>
<li>使用CSS Module避免类名冲突</li>
<li>类名通过styles.className方式引用</li>
</ul>
</li>
<li><strong>样式结构</strong>:</li>
<li><strong>样式拼接</strong>:</li>
</ul>
</li>
<li>消息元素样式细节<ul>
<li><strong>布局处理</strong>:<ul>
<li>使用flex布局实现水平排列</li>
<li>设置合适的padding和margin</li>
<li>添加圆角和阴影效果</li>
</ul>
</li>
<li><strong>图标样式</strong>:<ul>
<li>单独设置图标大小(20px)</li>
<li>添加右侧间距(7px)</li>
<li>垂直居中对齐</li>
</ul>
</li>
</ul>
</li>
<li>类型样式映射<ul>
<li><strong>类型对应</strong>:<ul>
<li>info → 信息图标</li>
<li>error → 错误图标</li>
<li>success → 成功图标</li>
<li>warn → 警告图标</li>
</ul>
</li>
<li><strong>样式扩展</strong>:<ul>
<li>每种类型有对应的背景色</li>
<li>使用SASS的&amp;符号简化样式书写</li>
<li>保持样式命名一致性</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="二、设置样式并弹出消息"><a href="#二、设置样式并弹出消息" class="headerlink" title="二、设置样式并弹出消息"></a>二、设置样式并弹出消息</h4><h5 id="1-消息组件样式设置"><a href="#1-消息组件样式设置" class="headerlink" title="1. 消息组件样式设置"></a>1. 消息组件样式设置</h5><ul>
<li><strong>背景颜色选择</strong>：使用语义化颜色类名，包括primary（信息）、success（成功）、warning（警告）、danger（错误）</li>
<li><strong>类名生成规则</strong>：实际编译后的类名不是原始的message-info等，而是经过CSS模块化处理的唯一类名，需要通过styles对象读取</li>
<li><strong>动态类名拼接</strong>：使用模板字符串拼接类名，格式为styles[‘message_${type}’]，其中type是传入的消息类型参数</li>
</ul>
<h5 id="2-消息显示位置控制"><a href="#2-消息显示位置控制" class="headerlink" title="2. 消息显示位置控制"></a>2. 消息显示位置控制</h5><ul>
<li><strong>定位方式</strong>：默认使用fixed定位显示在页面正中</li>
<li><strong>容器定位</strong>：当指定容器ID时，使用absolute定位显示在容器正中</li>
<li><strong>样式覆盖</strong>：需要保留原有的transform居中样式translate(-50%, -50%)，再叠加垂直位移</li>
</ul>
<h5 id="3-动画效果实现"><a href="#3-动画效果实现" class="headerlink" title="3. 动画效果实现"></a>3. 动画效果实现</h5><ul>
<li><strong>初始状态</strong>：<ul>
<li>opacity: 0（完全透明）</li>
<li>transform: translate(-50%, calc(-50% + 15px))（下移15像素）</li>
</ul>
</li>
<li><strong>显示动画</strong>：<ul>
<li>通过修改样式触发过渡：opacity变为1，transform去掉垂直位移</li>
<li>必须强制浏览器重排（如读取clientHeight）才能确保动画生效</li>
</ul>
</li>
<li><strong>消失动画</strong>：<ul>
<li>设置opacity为0，transform上移15像素</li>
<li>通过transitionend事件监听动画结束，移除DOM元素</li>
<li>使用addEventListener的once选项确保只触发一次</li>
</ul>
</li>
</ul>
<h5 id="4-完整消息流程"><a href="#4-完整消息流程" class="headerlink" title="4. 完整消息流程"></a>4. 完整消息流程</h5><ul>
<li>创建消息DOM并设置初始样式</li>
<li>强制浏览器渲染初始状态</li>
<li>修改样式触发显示动画</li>
<li>设置duration时长定时器</li>
<li>触发消失动画</li>
<li>动画结束后移除元素</li>
</ul>
<h5 id="5-注意事项"><a href="#5-注意事项" class="headerlink" title="5. 注意事项"></a>5. 注意事项</h5><ul>
<li><strong>样式覆盖</strong>：transform属性会覆盖，需要同时设置居中和位移</li>
<li><strong>动画时机</strong>：DOM操作和样式修改是异步的，必须强制重排才能获得动画效果</li>
<li><strong>事件处理</strong>：transitionend事件需要设置once:true避免多次触发</li>
<li><strong>参数配置</strong>：垂直位移量（15px）和过渡时间（0.4s）可根据实际效果调整</li>
</ul>
<h4 id="三、点击弹出消息"><a href="#三、点击弹出消息" class="headerlink" title="三、点击弹出消息"></a>三、点击弹出消息</h4><h5 id="1-消息弹窗基础实现"><a href="#1-消息弹窗基础实现" class="headerlink" title="1. 消息弹窗基础实现"></a>1. 消息弹窗基础实现</h5><ul>
<li><strong>容器样式设置</strong>：为home container设置背景色为light blue，宽度600px，边框1px solid，上下边距50px，高度300px</li>
<li><strong>消息触发方式</strong>：通过点击按钮触发showMessage函数，在指定容器区域内弹出消息</li>
<li><strong>默认参数设置</strong>：消息默认显示2秒，默认类型为info，默认在document.body中显示</li>
</ul>
<h5 id="2-工具函数模块化"><a href="#2-工具函数模块化" class="headerlink" title="2. 工具函数模块化"></a>2. 工具函数模块化</h5><ul>
<li><strong>统一导出技巧</strong>：在utils目录创建index.js，集中导出所有工具函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export &#123; default as showMessage &#125; from &#x27;./showMessage&#x27;</span><br><span class="line">export &#123; default as getComponentRule &#125; from &#x27;./getComponentRule&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>导入简化</strong>：通过统一导出文件，使用时只需导入utils目录即可获取所有工具函数</li>
</ul>
<h5 id="3-消息弹窗参数优化"><a href="#3-消息弹窗参数优化" class="headerlink" title="3. 消息弹窗参数优化"></a>3. 消息弹窗参数优化</h5><ul>
<li><strong>参数对象化改造</strong>：将多个参数合并为options对象，包含：<ul>
<li>content：消息内容（默认空字符串）</li>
<li>type：消息类型（默认info）</li>
<li>duration：显示时长（默认2000ms）</li>
<li>container：容器元素（默认document.body）</li>
<li>callback：消失后的回调函数</li>
</ul>
</li>
<li><strong>样式问题解决</strong>：当容器宽度不足时，通过设置white-space: nowrap防止文字换行挤压</li>
</ul>
<h5 id="4-全局注入优化"><a href="#4-全局注入优化" class="headerlink" title="4. 全局注入优化"></a>4. 全局注入优化</h5><ul>
<li><strong>Vue原型注入</strong>：在main.js中将showMessage注入Vue原型</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; showMessage &#125; from &#x27;./utils&#x27;</span><br><span class="line">Vue.prototype.$showMessage = showMessage</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>组件调用简化</strong>：组件内可直接通过this.$showMessage调用，无需单独导入</li>
<li><strong>回调函数应用</strong>：消息消失后执行回调，常用于页面跳转等后续操作</li>
</ul>
<h5 id="5-实现要点总结"><a href="#5-实现要点总结" class="headerlink" title="5. 实现要点总结"></a>5. 实现要点总结</h5><ul>
<li><strong>基础技术组合</strong>：该功能实现主要依赖原生DOM操作和CSS，与Vue本身关系不大</li>
<li><strong>样式定位技巧</strong>：使用transform可能导致宽度挤压，需配合white-space处理</li>
<li><strong>工程化思维</strong>：通过模块化导出和全局注入提高代码复用性和使用便捷性</li>
<li><strong>参数设计原则</strong>：将多个参数合并为对象，提高可扩展性和代码可读性</li>
</ul>
<h4 id="四、知识小结"><a href="#四、知识小结" class="headerlink" title="四、知识小结"></a>四、知识小结</h4><table>
<thead>
<tr>
<th>知识点</th>
<th>核心内容</th>
<th>关键实现步骤</th>
<th>技术难点</th>
</tr>
</thead>
<tbody><tr>
<td><strong>CSS Module使用</strong></td>
<td>避免类名冲突的CSS解决方案</td>
<td>1. 文件名需包含module关键字; 2. 通过import styles导入样式对象; 3. 使用styles.className引用样式</td>
<td>1. 文件命名规范; 2. 样式作用域理解</td>
</tr>
<tr>
<td><strong>组件DOM获取</strong></td>
<td>通过函数获取组件渲染的真实DOM元素</td>
<td>1. 创建Vue实例; 2. 调用render函数渲染组件; 3. 通过$el获取根DOM元素</td>
<td><strong>虚拟DOM与真实DOM转换</strong></td>
</tr>
<tr>
<td><strong>Vue实例扩展</strong></td>
<td>向Vue原型注入全局方法</td>
<td>1. 通过Vue.prototype.$method添加; 2. 方法名建议加$前缀避免冲突</td>
<td>原型链污染风险</td>
</tr>
<tr>
<td><strong>ref引用系统</strong></td>
<td>获取组件实例或DOM元素的引用</td>
<td>1. 在模板中使用ref属性; 2. 通过this.$refs访问引用对象</td>
<td><strong>违反Vue数据驱动原则</strong></td>
</tr>
<tr>
<td><strong>消息弹窗实现</strong></td>
<td>纯JS实现的跨组件消息系统</td>
<td>1. 动态创建DOM元素; 2. 应用CSS Module样式; 3. 实现进场&#x2F;退场动画; 4. 自动销毁机制</td>
<td>1.<strong>浏览器渲染时机控制</strong>; 2. 定位计算逻辑; 3. 过渡动画同步</td>
</tr>
</tbody></table>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icon_man.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icon_man.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">飞向月球的猫</div><div class="post-copyright__author_desc">个人博客</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/')">vue-弹出消息</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/wx.jpg" target="_blank"><img class="post-qr-code-img" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/wx.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/zfb.jpg" target="_blank"><img class="post-qr-code-img" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/zfb.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=vue-弹出消息&amp;url=http://kaiyiya.github.io/2025/12/15/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF/&amp;pic=https://bu.dusays.com/2025/12/01/692cfce944838.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://kaiyiya.github.io" target="_blank">飞向月球的猫</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/vue/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>vue<span class="tagsPageCount">9</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2025/09/02/68b6d8d1b7ece.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/12/12/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E8%B7%AF%E7%94%B1/"><img class="prev-cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf3f02be.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">vue-路由</div></div></a></div><div class="next-post pull-right"><a href="/2025/12/18/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/nodejs/node-%E6%96%87%E4%BB%B6%E6%B5%81/"><img class="next-cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf3961a4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">node-文件流</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/12/02/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E7%BB%84%E4%BB%B6/" title="vue-组件"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf4a04b0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-02</div><div class="title">vue-组件</div></div></a></div><div><a href="/2025/12/04/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7/" title="vue-计算属性"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf47c71f.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-04</div><div class="title">vue-计算属性</div></div></a></div><div><a href="/2025/12/09/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E7%BB%84%E4%BB%B6%E4%BA%8B%E4%BB%B6/" title="vue-组件事件"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf45acec.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-09</div><div class="title">vue-组件事件</div></div></a></div><div><a href="/2025/12/12/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/vue-%E8%B7%AF%E7%94%B1/" title="vue-路由"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf3f02be.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-12</div><div class="title">vue-路由</div></div></a></div><div><a href="/2025/12/02/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/%E5%B7%A5%E7%A8%8B%E5%8C%96-commonjs/" title="工程化-commonjs"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfce949bb8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-02</div><div class="title">工程化-commonjs</div></div></a></div><div><a href="/2025/12/02/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vue/%E5%9F%BA%E7%A1%80/%E5%B7%A5%E7%A8%8B%E5%8C%96-esmodule/" title="工程化-esmodule"><img class="cover" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf4bd448.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-12-02</div><div class="title">工程化-esmodule</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icon_man.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">专注于深度学习、算法、全栈开发、移动端开发、js、python、java、go、c++、c</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">飞向月球的猫</h1><div class="author-info__desc">个人博客</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/kaiyiya" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BD%BF%E7%94%A8CSS-Module"><span class="toc-number">1.</span> <span class="toc-text">一、使用CSS Module</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8CSS-Module"><span class="toc-number">1.1.</span> <span class="toc-text">1. 使用CSS Module</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%EF%BC%89%E4%B8%BE%E4%BE%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">1）举例</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%EF%BC%89%E4%BD%BF%E7%94%A8CSS-Module"><span class="toc-number">1.1.2.</span> <span class="toc-text">2）使用CSS Module</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%EF%BC%89%E5%BE%97%E5%88%B0%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%E7%9A%84Dom"><span class="toc-number">1.1.3.</span> <span class="toc-text">3）得到组件渲染的Dom</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%EF%BC%89%E6%89%A9%E5%B1%95Vue%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.1.4.</span> <span class="toc-text">4）扩展Vue实例</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%EF%BC%89ref"><span class="toc-number">1.1.5.</span> <span class="toc-text">5）ref</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.</span> <span class="toc-text">2. 知识总结</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%EF%BC%89%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.1.</span> <span class="toc-text">1）模板中的特殊属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%EF%BC%89%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">2）组件通信方式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%EF%BC%89%E5%AE%9E%E4%BE%8B%E6%88%90%E5%91%98"><span class="toc-number">1.2.3.</span> <span class="toc-text">3）实例成员</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%EF%BC%89%E7%A4%BA%E4%BE%8B%E8%A7%A3%E6%9E%90"><span class="toc-number">1.2.4.</span> <span class="toc-text">4）示例解析</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%86%85%E5%AE%B9%E6%A1%88%E4%BE%8B"><span class="toc-number">1.3.</span> <span class="toc-text">3. 内容案例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%EF%BC%89%E4%BC%A0%E7%BB%9FJS%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88"><span class="toc-number">1.3.1.</span> <span class="toc-text">1）传统JS弹出消息实现方案</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%EF%BC%89%E4%BE%8B%E9%A2%98-%E7%82%B9%E5%87%BB%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF"><span class="toc-number">1.3.2.</span> <span class="toc-text">2）例题:点击弹出消息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F%E5%B9%B6%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">二、设置样式并弹出消息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">1. 消息组件样式设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%B6%88%E6%81%AF%E6%98%BE%E7%A4%BA%E4%BD%8D%E7%BD%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">2.2.</span> <span class="toc-text">2. 消息显示位置控制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.3.</span> <span class="toc-text">3. 动画效果实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%AE%8C%E6%95%B4%E6%B6%88%E6%81%AF%E6%B5%81%E7%A8%8B"><span class="toc-number">2.4.</span> <span class="toc-text">4. 完整消息流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.5.</span> <span class="toc-text">5. 注意事项</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%82%B9%E5%87%BB%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF"><span class="toc-number">3.</span> <span class="toc-text">三、点击弹出消息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%B6%88%E6%81%AF%E5%BC%B9%E7%AA%97%E5%9F%BA%E7%A1%80%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.</span> <span class="toc-text">1. 消息弹窗基础实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">3.2.</span> <span class="toc-text">2. 工具函数模块化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%B6%88%E6%81%AF%E5%BC%B9%E7%AA%97%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96"><span class="toc-number">3.3.</span> <span class="toc-text">3. 消息弹窗参数优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%85%A8%E5%B1%80%E6%B3%A8%E5%85%A5%E4%BC%98%E5%8C%96"><span class="toc-number">3.4.</span> <span class="toc-text">4. 全局注入优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E5%AE%9E%E7%8E%B0%E8%A6%81%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">3.5.</span> <span class="toc-text">5. 实现要点总结</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%9F%A5%E8%AF%86%E5%B0%8F%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">四、知识小结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/26/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ts/ts-mediumomit/" title="ts-mediumomit"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf247ada.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts-mediumomit"/></a><div class="content"><a class="title" href="/2025/12/26/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ts/ts-mediumomit/" title="ts-mediumomit">ts-mediumomit</a><time datetime="2025-12-26T08:18:00.000Z" title="发表于 2025-12-26 16:18:00">2025-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/26/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ts/ts-GetReturnTypes/" title="ts-GetReturnTypes"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfce9503fc.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts-GetReturnTypes"/></a><div class="content"><a class="title" href="/2025/12/26/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ts/ts-GetReturnTypes/" title="ts-GetReturnTypes">ts-GetReturnTypes</a><time datetime="2025-12-26T07:35:41.000Z" title="发表于 2025-12-26 15:35:41">2025-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/25/node-%E5%9B%BE%E7%89%87%E6%B0%B4%E5%8D%B0/" title="node-图片水印"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf1de1cd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node-图片水印"/></a><div class="content"><a class="title" href="/2025/12/25/node-%E5%9B%BE%E7%89%87%E6%B0%B4%E5%8D%B0/" title="node-图片水印">node-图片水印</a><time datetime="2025-12-25T02:41:13.000Z" title="发表于 2025-12-25 10:41:13">2025-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/25/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/nodejs/node-%E5%9B%BE%E7%89%87%E6%B0%B4%E5%8D%B0/" title="node-图片水印"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf1de1cd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node-图片水印"/></a><div class="content"><a class="title" href="/2025/12/25/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/nodejs/node-%E5%9B%BE%E7%89%87%E6%B0%B4%E5%8D%B0/" title="node-图片水印">node-图片水印</a><time datetime="2025-12-25T02:41:13.000Z" title="发表于 2025-12-25 10:41:13">2025-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/23/node-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" title="node-文件上传"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/12/01/692cfcf229168.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node-文件上传"/></a><div class="content"><a class="title" href="/2025/12/23/node-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" title="node-文件上传">node-文件上传</a><time datetime="2025-12-23T01:36:35.000Z" title="发表于 2025-12-23 09:36:35">2025-12-23</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://user.qzone.qq.com/2194785560/infocenter" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icon_man.png" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://leetcode.cn/u/zhong-9t9/" title="LeetCode"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-leetcode"></use></svg></a></div><div class="copyright">&copy;2025 By 飞向月球的猫</div><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">118</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">4</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/ELK/" style="font-size: 0.88rem;">ELK<sup>1</sup></a><a href="/tags/JS/" style="font-size: 0.88rem;">JS<sup>33</sup></a><a href="/tags/React/" style="font-size: 0.88rem;">React<sup>10</sup></a><a href="/tags/centos7/" style="font-size: 0.88rem;">centos7<sup>1</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>9</sup></a><a href="/tags/docker/" style="font-size: 0.88rem;">docker<sup>3</sup></a><a href="/tags/go/" style="font-size: 0.88rem;">go<sup>2</sup></a><a href="/tags/k8s/" style="font-size: 0.88rem;">k8s<sup>4</sup></a><a href="/tags/linux/" style="font-size: 0.88rem;">linux<sup>4</sup></a><a href="/tags/nodejs/" style="font-size: 0.88rem;">nodejs<sup>24</sup></a><a href="/tags/ts/" style="font-size: 0.88rem;">ts<sup>2</sup></a><a href="/tags/vue/" style="font-size: 0.88rem;">vue<sup>9</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">深度学习<sup>6</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>10</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="anzhiyufont anzhiyu-icon-comment-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("06/01/2025 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `生活明朗, 万物可爱`,
    `

       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝

        `,
    "已上线",
    dnum,
    "天",
    "©2025 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 飞向月球的猫 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("06/01/2025 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "";
        img.alt = "";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.60.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '9cdEFDShTeEeLXIzDivO7iel-gzGzoHsz',
      appKey: 'MrAc9UGI8JwDxY4TJjkOqQ2w',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, ))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/blueimp-md5@2.19.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=mp'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://9cdEFDSh.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": '9cdEFDShTeEeLXIzDivO7iel-gzGzoHsz',
        "X-LC-Key": 'MrAc9UGI8JwDxY4TJjkOqQ2w',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://at.alicdn.com/t/c/font_4942227_qgbgf4yxr5m.js?spm=a313x.manage_type_myprojects.i1.10.3e7e3a81jTvspY&amp;file=font_4942227_qgbgf4yxr5m.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }

    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'rBSEkY5Qjp4fmNXzZ'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')

  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>